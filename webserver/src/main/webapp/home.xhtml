<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
   <head>
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"></link>
        <title>Question&aacute;rio - Extreme Programming </title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></link>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous"></link>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
        <script src="/webserver/app.js"></script>
      
        <!-- Bootstrap core CSS -->
        <link href="/webserver/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"></link>

        <!-- Custom fonts for this template -->
        <link href="/webserver/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"></link>
        <link href="/webserver/vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css"></link>
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css"></link>

        <!-- Custom styles for this template -->
        <link href="/webserver/css/landing-page.min.css" rel="stylesheet"></link>
        
        <link rel="stylesheet" href="/webserver/style.css" ></link>
   </head>
   <body>
        <!-- Navigation -->
        <nav class="navbar navbar-light bg-light static-top navbar-static-top">
          <div class="container">
              <a class="navbar-brand" href="#"><img src="/webserver/img/programming.png" class="programming-icon"></img> Extreme Programming</a>  
              
              <span class="step-clock-#{quiz.step}" >
                <img src="https://i.pinimg.com/originals/de/50/2a/de502ade8fc8fa2e69a5cceb39198bdf.jpg" class="timer-animation"></img>
                <!-- <i class="fa fa-clock-o"></i> -->
                <span id="timeLeft">10s</span>
              </span>
              
              <h:form>
                    <h5 class="step-number"><h:outputText id = "outputMessage" value = "Passo: #{quiz.step} / #{ quiz.questionsCount }"/></h5>

                    <h:commandButton value="#{quiz.step == 0 ? 'Iniciar' : 'Pr&oacute;ximo passo'}" 
                                     action="#{quiz.nextStep}" class="#{quiz.step == 0 ? '' : 'disable-next-button'} btn btn-primary cursor-pointer" 
                                     rendered="#{quiz.step != quiz.questionsCount}">
                        <f:ajax execute = "inputName" render = "outputMessage" />
                    </h:commandButton>
                    <h:commandButton value="Ver Pontua&ccedil;&atilde;o Total" 
                                     action="top10.xhtml?faces-redirect=true" class="disable-next-button btn btn-primary cursor-pointer" 
                                     rendered="#{quiz.step == quiz.questionsCount}">
                        <f:ajax execute = "inputName" render = "outputMessage" />
                    </h:commandButton>
              </h:form> 
              
          </div>
        </nav>
        <!-- Masthead -->
        <header class="masthead text-white text-center">
         <div class="overlay"></div>
         <div class="container">
           <div class="row">
             <div class="col-xl-9 mx-auto">
                 <h1 class="mb-5 question-text">
                      #{quiz.step != 0 ? quiz.question.question : 'Vamos iniciar o question&aacute;rio sobre Extremme Programming. Est&aacute;s pronto?'}
                 </h1>
                    
                <div id="questionOptions" class="#{ (quiz.step >= 1 and quiz.questionsCount >= quiz.step)  ? '' : 'display-none'}">
                    <h:dataTable value="#{quiz.question.answers}" var="q"
                                           styleClass="table order-table table-bordered table-condensed questions-show"
                                           headerClass="thead-light order-table-header"
                                           rowClasses="order-table-odd-row,order-table-even-row"
                              >
                    <h:column>                                  
                        <f:facet name="header">#</f:facet>
                        <span class="">#{q.index != 0 ? (q.index) : ''}</span>             
                    </h:column>

                    <h:column>
                        <f:facet name="header">Op&ccedil;&otilde;es</f:facet>
                        #{ q.value }
                    </h:column>
                    <h:column>
                        <f:facet name="header"></f:facet>
                        <span class="text-success text-bold correct-answer">
                            #{q.correct == true ? '&#10004;' : ''}
                        </span>
                    </h:column>                                
                </h:dataTable>
                    <h5 class="explanation"><i class="fa fa-info-circle" aria-hidden="true"></i> #{quiz.question.explanation}</h5>
                    
                    <progress max="#{ quiz.questionsCount }" value="#{ quiz.step }" class="progress-bar"></progress>
                </div>
            </div>
             <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">

             </div>
           </div>
         </div>
        </header>      
       
       <!--
       <div class="container container-fluid #{ (quiz.step == (quiz.questionsCount-1))  ? '' : 'display-none'}">  
           <div class="card margin-top-40">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12 col-lg-4 step-#{quiz.step}"> 
                            <h5 class="text-bold">&#x1f3c6; Top 5</h5>
                            <h:dataTable value="#{quiz.scoreTable}" var="o"
                                         styleClass="table order-table table-bordered table-condensed"
                                         headerClass="order-table-header"
                                         rowClasses="order-table-odd-row,order-table-even-row"
                            >
                               <h:column>
                                  <f:facet name="header">Player</f:facet>
                                  #{o.name}
                               </h:column>

                               <h:column>
                                  <f:facet name="header">Score</f:facet>
                                  #{o.score}
                               </h:column>
                            </h:dataTable>
                        </div>
                    </div>    
                </div>
           </div>
       </div>
       -->
   </body>
</html>
